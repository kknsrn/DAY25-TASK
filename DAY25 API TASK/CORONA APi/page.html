<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <script>
      let main = document.createElement("div");
      main.classList.add("container");
      document.body.appendChild(main);
      let row = document.createElement("div");
      row.classList.add("row");
      main.appendChild(row);
      var b = localStorage.getItem("val");
      // var d=0;
      // localStorage.setItem('val',d)
      fetch(`https://covid-api.mmediagroup.fr/v1/cases`)
        .then((d) => d.json())
        .then((data) => {
          let obj = Object.values(data);
          for (let i = 0; i < obj.length; i++) {
            if (obj[i].All.country != undefined) {
              if (b == obj[i].All.country) {
                let col = document.createElement("div");
                col.classList.add(
                  "mx-auto",
                  "col-sm-12",
                  "col-md-7",
                  "col-lg-7",
                  "col-xl-7",
                  "my-3"
                );
                row.appendChild(col);
                //card
                let div_card = document.createElement("div");
                div_card.classList.add("card", "h-100");
                col.appendChild(div_card);
                //card header
                let div_head = document.createElement("div");
                div_head.classList.add("card-header", "text-center");
                let tit = document.createElement("h5");
                tit.classList.add("card-header", "text-dark");
                tit.innerHTML = `${obj[i].All.country}`;
                div_head.appendChild(tit);
                div_card.appendChild(div_head);

                // card body
                let div_body = document.createElement("div");
                div_body.classList.add("card-body", "text-center");
                div_card.appendChild(div_body);
                //inside body text
                let d1 = document.createElement("div");
                d1.classList.add("card-text");
                div_body.appendChild(d1);
                let div_1 = document.createElement("div");
                div_1.innerHTML = `Capital: <span class="fw-bold" >${obj[i].All.capital_city}</span >`;

                let d2 = document.createElement("div");
                d2.classList.add("card-text");
                div_body.appendChild(d2);
                let div_2 = document.createElement("div");
                div_2.innerHTML = `Affected:${obj[i].All.confirmed}`;

                let d3 = document.createElement("div");
                d3.classList.add("card-text");
                div_body.appendChild(d3);
                let div_3 = document.createElement("div");
                div_3.innerHTML = `Deaths:${obj[i].All.deaths}`;

                let d4 = document.createElement("div");
                d4.classList.add("card-text");
                div_body.appendChild(d4);
                let div_4 = document.createElement("div");
                div_4.innerHTML = `Population:${obj[i].All.population}`;

                let d5 = document.createElement("div");
                d5.classList.add("card-text");
                div_body.appendChild(d5);
                let div_5 = document.createElement("div");
                div_5.innerHTML = `SQ km Area:${obj[i].All.sq_km_area}`;

                //
                let d7 = document.createElement("div");
                d7.classList.add("card-text");
                div_body.appendChild(d7);
                let div_7 = document.createElement("div");
                div_7.innerHTML = `Continent:${obj[i].All.continent}`;

                let d8 = document.createElement("div");
                d8.classList.add("card-text");
                div_body.appendChild(d8);
                let div_8 = document.createElement("div");
                div_8.innerHTML = `Life Expectancy:${obj[i].All.life_expectancy}`;

                let d6 = document.createElement("div");
                d6.classList.add("card-text");
                div_body.appendChild(d6);
                let div_6 = document.createElement("div");
                div_6.innerHTML = `Updated:${obj[i].All.updated}`;
                d8.appendChild(div_8);
                d7.appendChild(div_7);
                d1.appendChild(div_1);
                d2.appendChild(div_2);
                d3.appendChild(div_3);
                d4.appendChild(div_4);
                d5.appendChild(div_5);
                d6.appendChild(div_6);
              }
            }
          }
        });

      let a = document.createElement("a");
      a.setAttribute("href", "index.html");
      a.innerHTML = "Click here to Home";
      document.body.appendChild(a);

      fetch(`https://covid-api.mmediagroup.fr/v1/cases`)
        .then((d) => d.json())
        .then((data) => {
          let obj = Object.values(data);
          // console.log(data);
        });
    </script>
  </body>
</html>
